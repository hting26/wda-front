(function(e){function t(t){for(var r,a,s=t[0],u=t[1],c=t[2],l=0,d=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);m&&m(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==o[s]&&(r=!1)}r&&(i.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},a={app:0},o={app:0},i=[];function s(e){return u.p+"js/"+({about:"about",admin:"admin","adoption~register":"adoption~register",adoption:"adoption",register:"register",cart:"cart",donate:"donate",happytail:"happytail",login:"login",member:"member",volunteer:"volunteer"}[e]||e)+"."+{about:"104e7a48",admin:"5e8959bb","adoption~register":"3616bafa",adoption:"b065c295",register:"89146456",cart:"f26fa5e8",donate:"24a77f42",happytail:"480f5026",login:"63723154",member:"9b2354ab",volunteer:"142109cd"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={about:1,admin:1,adoption:1,register:1,cart:1,donate:1,happytail:1,login:1,member:1,volunteer:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({about:"about",admin:"admin","adoption~register":"adoption~register",adoption:"adoption",register:"register",cart:"cart",donate:"donate",happytail:"happytail",login:"login",member:"member",volunteer:"volunteer"}[e]||e)+"."+{about:"4d989942",admin:"483eb308","adoption~register":"31d6cfe0",adoption:"2b7cb065",register:"2b86b9b0",cart:"e917074f",donate:"8bff6026",happytail:"58dc1193",login:"4320e63b",member:"7117133e",volunteer:"0769e7fd"}[e]+".css",o=u.p+r,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var c=i[s],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===r||l===o))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){c=d[s],l=c.getAttribute("data-href");if(l===r||l===o)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var r=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[e],m.parentNode.removeChild(m),n(i)},m.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=i);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=s(e);var d=new Error;c=function(t){l.onerror=l.onload=null,clearTimeout(m);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}o[e]=void 0}};var m=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="",u.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var m=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0d78":function(e,t,n){e.exports=n.p+"img/carousel2.2a02de75.jpg"},"124c":function(e,t,n){e.exports=n.p+"img/carousel4.6b9302e4.jpg"},"21bb":function(e,t,n){"use strict";n("2dad")},"2dad":function(e,t,n){},3881:function(e,t,n){e.exports=n.p+"img/home.1baaa5c8.jpg"},"3f6f":function(e,t,n){e.exports=n.p+"img/carousel1.b250b5b2.jpg"},"55d8":function(e,t,n){e.exports=n.p+"img/rescue.c74ff4a4.jpg"},"56d7":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"login",(function(){return O})),n.d(r,"logout",(function(){return A})),n.d(r,"getInfo",(function(){return E})),n.d(r,"addCart",(function(){return T}));var a={};n.r(a),n.d(a,"user",(function(){return R}));var o={};n.r(o),n.d(o,"login",(function(){return P})),n.d(o,"logout",(function(){return S})),n.d(o,"getInfo",(function(){return B})),n.d(o,"extend",(function(){return I})),n.d(o,"updateCart",(function(){return N}));n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("e792"),n("0cdd");var i=n("2b0e"),s=n("5f5b"),u=n("b1e0");n("ab8b"),n("2dd8");i["default"].use(s["a"]),i["default"].use(u["a"]);n("d3b7"),n("caad"),n("2532");var c=n("bc3a"),l=n.n(c),d=n("130e"),m=n("3d20"),p=n.n(m),f=n("2f62"),g=n("0e44"),h=function(){return{token:"",account:"",role:0,email:"",cart:0}},b=n("1da1"),v=(n("96cf"),n("3ca3"),n("ddb0"),n("8c4f")),y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"home"}},[r("b-carousel",{attrs:{id:"carousel-fade",fade:"",controls:"",interval:5e3}},[r("b-carousel-slide",{staticStyle:{width:"1024",height:"480","object-fit":"cover"},attrs:{"img-src":n("3f6f")}}),r("b-carousel-slide",{staticStyle:{width:"1024",height:"480","object-fit":"cover"},attrs:{"img-src":n("0d78")}}),r("b-carousel-slide",{staticStyle:{"object-fit":"cover"},attrs:{"img-src":n("9c29")}}),r("b-carousel-slide",{attrs:{"img-src":n("124c")}})],1),r("b-container",[r("div",{staticClass:"titleText"},[e._v("Mary’s Doggies")]),r("b-row",{staticClass:"content"},[r("b-col",{attrs:{cols:"12"}},[r("b-img",{staticClass:"homeImg",attrs:{src:n("3881"),fluid:""}})],1),r("b-col",{staticClass:"text",attrs:{cols:"12"}},[e._v("我們在Mary’s Doggies的主要任務，是替獲救的小狗們找到一個永遠有愛的家園，讓牠們重新擁有一個快樂的生活。而要達成這個目標，必須具有完整的過程，其中包含五項重要步驟：救援／醫療／中途寄養／訓練，最終目標是為找到牠們找到一個家。我們投入了大量的時間、金錢和所有傷口疾病的醫療護理，以確保每隻狗都能做好充分準備，成為一名新進的優秀家庭成員。謝謝大家一直以來對我們的支持及鼓勵，幫助這些狗狗們一路前進直達幸福。"),r("br"),r("br"),e._v(" Our mission at Mary’s Doggies is to find loving forever homes for our rescued dogs so that each dog can live a happy life. The complete process involves these 5 important steps: Rescue, Medical, Foster, Train, and eventually finding them a Home. We devote tremendous amount of time, money, and care to ensure that each dog is fully prepared to be your new family member. Thank you everyone for supporting us and helping the doggies along the way.")])],1),r("div",{staticClass:"subtitle"},[e._v("What do we do")]),r("b-img",{staticClass:"rescueImg",attrs:{src:n("55d8"),fluid:""}})],1)],1)},x=[],w=(n("21bb"),n("2877")),_={},k=Object(w["a"])(_,y,x,!1,null,null,null),j=k.exports;i["default"].use(v["a"]);var M=[{path:"/",name:"Home",component:j,meta:{title:"Mary’s Doggies"}},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))},meta:{title:"Mary’s Doggies | About"}},{path:"/happytail",name:"Happytail",component:function(){return n.e("happytail").then(n.bind(null,"149a"))},meta:{title:"Mary’s Doggies | Happytail"}},{path:"/donate",name:"Donate",component:function(){return n.e("donate").then(n.bind(null,"8125"))},meta:{title:"Mary’s Doggies | Donate"}},{path:"/volunteer",name:"Volunteer",component:function(){return n.e("volunteer").then(n.bind(null,"8106"))},meta:{title:"Mary’s Doggies | Volunteer"}},{path:"/adoption",name:"Adoption",component:function(){return Promise.all([n.e("adoption~register"),n.e("adoption")]).then(n.bind(null,"5178"))},meta:{title:"Mary’s Doggies | Adoption"}},{path:"/register",name:"Register",component:function(){return Promise.all([n.e("adoption~register"),n.e("register")]).then(n.bind(null,"73cf"))},meta:{title:"Mary’s Doggies | Register"}},{path:"/login",name:"Login",component:function(){return n.e("login").then(n.bind(null,"a55b"))},meta:{title:"Mary’s Doggies | Login"}},{path:"/cart",name:"Cart",component:function(){return n.e("cart").then(n.bind(null,"b789"))},meta:{title:"Mary’s Doggies | Cart",login:!0}},{path:"/member",name:"Member",component:function(){return n.e("member").then(n.bind(null,"80d2"))},children:[{path:"data",name:"MemberData",component:function(){return n.e("member").then(n.bind(null,"166d"))},meta:{login:!0,title:"Mary’s Doggies | Member"}},{path:"orders",name:"MemberOrders",component:function(){return n.e("member").then(n.bind(null,"5314"))},meta:{login:!0,title:"Mary’s Doggies | Member"}},{path:"adoption",name:"MemberAdoption",component:function(){return n.e("member").then(n.bind(null,"dfcc"))},meta:{login:!0,title:"Mary’s Doggies | Member"}}]},{path:"/admin",name:"Admin",component:function(){return n.e("admin").then(n.bind(null,"3530"))},children:[{path:"products",name:"AdminProducts",component:function(){return n.e("admin").then(n.bind(null,"aa93"))},meta:{login:!0,admin:!0,title:"Mary’s Doggies | 募集商品管理"}},{path:"orders",name:"AdminOrders",component:function(){return n.e("admin").then(n.bind(null,"ec5c"))},meta:{login:!0,admin:!0,title:"Mary’s Doggies | 募集訂單管理"}},{path:"dogs",name:"AdminDogs",component:function(){return n.e("admin").then(n.bind(null,"63ab"))},meta:{login:!0,admin:!0,title:"Mary’s Doggies | 領養犬管理"}},{path:"adoptions",name:"AdminAdoption",component:function(){return n.e("admin").then(n.bind(null,"4717"))},meta:{login:!0,admin:!0,title:"Mary’s Doggies | 領養申請管理"}}]},{path:"*",name:"NotFound",redirect:"/"}],C=new v["a"]({routes:M});C.beforeEach((function(e,t,n){var r=$.getters["user/user"];e.meta.login&&!r.isLogin?n("/login"):e.meta.admin&&!r.isAdmin?n("/"):n()})),C.afterEach((function(e,t){document.title=e.meta.title}));var D=C,O=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,H.post("/users/login",n);case 4:a=e.sent,o=a.data,r("login",o.result),D.push("/"),p.a.fire({position:"top-end",icon:"success",title:"成功",text:"登入成功",showConfirmButton:!1,timer:1e3}),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),p.a.fire({icon:"error",title:"失敗",text:e.t0.response.data.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,e.prev=1,e.next=4,H.delete("/users/logout",{headers:{authorization:"Bearer "+r.token}});case 4:n("logout"),D.push("/"),p.a.fire({position:"top-end",icon:"success",title:"成功",text:"登出成功",showConfirmButton:!1,timer:1e3}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),p.a.fire({icon:"error",title:"失敗",text:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,r=t.state,0!==r.token.length){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,H.get("/users/me",{headers:{authorization:"Bearer "+r.token}});case 6:a=e.sent,o=a.data,n("getInfo",o.result),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](3),n("logout");case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.commit,a=t.state,0!==a.token.length){e.next=5;break}return p.a.fire({icon:"error",title:"錯誤",text:"請先登入"}),D.push("/login"),e.abrupt("return");case 5:if(!(n.quantity<=0)){e.next=8;break}return p.a.fire({icon:"error",title:"錯誤",text:"請輸入正確數量"}),e.abrupt("return");case 8:return e.prev=8,e.next=11,H.post("/users/me/cart",n,{headers:{authorization:"Bearer "+a.token}});case 11:o=e.sent,i=o.data,r("updateCart",i.result),p.a.fire({icon:"success",title:"成功",text:"加入物資籃成功"}),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](8),p.a.fire({icon:"error",title:"錯誤",text:"加入物資籃失敗"});case 20:case"end":return e.stop()}}),e,null,[[8,17]])})));return function(t,n){return e.apply(this,arguments)}}(),L=n("5530"),R=function(e){return Object(L["a"])({isLogin:e.token.length>0,isAdmin:1===e.role},e)},P=function(e,t){e.token=t.token,e.account=t.account,e.role=t.role,e.email=t.email,e.cart=t.cart},S=function(e,t){e.token="",e.account="",e.role=0,e.email="",e.cart=0},B=function(e,t){e.account=t.account,e.role=t.role,e.email=t.email,e.cart=t.cart},I=function(e,t){e.token=t},N=function(e,t){e.cart=t},X={namespaced:!0,state:h,actions:r,getters:a,mutations:o};i["default"].use(f["a"]);var $=new f["a"].Store({state:{},mutations:{},actions:{},modules:{user:X},plugins:[Object(g["a"])({key:"marysdoggies",paths:["user.token"]})]}),H=l.a.create({baseURL:"https://wdaproject.herokuapp.com/"});H.interceptors.response.use((function(e){return e}),(function(e){if(e.response){if(401===e.response.status&&"/users/extend"!==e.config.url){var t=e.config;return H.post("/users/extend",{},{headers:{authorization:"Bearer "+$.state.user.token}}).then((function(e){var n=e.data;return $.commit("user/extend",n.result.token),t.headers.authorization="Bearer "+$.state.user.token,l()(t)})).catch((function(e){return $.commit("user/logout"),D.push("/login"),Promise.reject(e)}))}}else"ECONNABORTED"===e.code&&e.message.includes("timeout")?p.a.fire({icon:"error",title:"錯誤",text:"請求逾時"}):p.a.fire({icon:"error",title:"錯誤",text:"網路不穩定"});return Promise.reject(e)})),i["default"].use(d["a"],{axios:l.a,api:H});var z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("b-navbar",{attrs:{toggleable:"md",type:"light",variant:"primary"}},[r("b-navbar-brand",{attrs:{to:"/"}},[r("img",{attrs:{id:"logo",src:n("cf05")}})]),r("b-navbar-toggle",{staticClass:"toggle",attrs:{target:"nav-collapse"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.expanded;return[r("b-icon",t?{attrs:{icon:"chevron-bar-up"}}:{attrs:{icon:"chevron-bar-down"}})]}}])}),r("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[r("b-navbar-nav",e._l(e.hoverData,(function(t,n){return r("b-nav-item",{staticClass:"navR mx-auto",class:t.class,attrs:{to:t.to},on:{mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[!1===t.hover?r("div",[e._v(e._s(t.eng))]):r("div",[e._v(e._s(t.ch))])])})),1),r("b-navbar-nav",{staticClass:"ml-auto"},[e.user.isLogin&&!e.user.isAdmin?r("b-nav-item",{attrs:{to:"/member/orders"}},[e._v("會員")]):e._e(),e.user.isLogin&&e.user.isAdmin?r("b-nav-item",{attrs:{to:"/admin/products"}},[e._v("管理")]):e._e(),r("b-nav-item",{attrs:{to:"/cart"}},[e._v("Donate Cart"),r("b-badge",{staticClass:"ml-1",attrs:{pill:"",variant:"danger"}},[e._v(e._s(e.user.cart))])],1),e.user.isLogin?e._e():r("b-nav-item",{attrs:{to:"/register"}},[e._v("Register")]),e.user.isLogin?e._e():r("b-nav-item",{attrs:{to:"/login"}},[e._v("Login")]),e.user.isLogin?r("b-nav-item",{on:{click:e.logout}},[e._v("Logout")]):e._e()],1)],1)],1),r("div",{staticClass:"fakenav"}),e._m(0),r("router-view"),e._m(1)],1)},q=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a",{staticClass:"fix",attrs:{href:"#/about"}},[r("div",{staticClass:"fixText"},[e._v("Donate"),r("br"),e._v("Today!"),r("div",{staticClass:"ch"},[e._v("我要捐款")])]),r("img",{staticClass:"fixImg",attrs:{src:n("b45e")}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"footer"}},[n("div",[e._v("社團法人台灣瑪莉愛狗協會 台內團字號第XXXXXXXX號")]),n("div",[e._v("此網站僅為學生練習用途")])])}],F={data:function(){return{hoverData:[{eng:"About",ch:"關於我們",hover:!1,to:"/about"},{eng:"Happy Tail",ch:"快樂時光",hover:!1,to:"/happytail"},{eng:"Donate",ch:"物資募集",hover:!1,to:"/donate",class:"b-dropdown"},{eng:"Volunteer",ch:"招募志工",hover:!1,to:"/volunteer"},{eng:"Adoption",ch:"我要領養",hover:!1,to:"/adoption"}]}},methods:{logout:function(){this.$store.dispatch("user/logout")}},created:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("user/getInfo");case 1:case"end":return t.stop()}}),t)})))()}},V=F,J=(n("5c0b"),Object(w["a"])(V,z,q,!1,null,null,null)),U=J.exports,W=n("f9d5"),G=n.n(W),K=(n("4413"),{computed:{user:function(){return this.$store.getters["user/user"]}}}),Q=n("657c"),Y=(n("2bd9"),n("a584")),Z=n("7212"),ee=n.n(Z);n("a7a3");i["default"].use(ee.a),i["default"].use(Y["a"],{config:{id:"G-QPEM5T3798"}}),i["default"].component("ImgInputer",Q["a"]),i["default"].use(G.a),i["default"].mixin(K),i["default"].config.productionTip=!1,D.afterEach((function(e,t,n){window.scrollTo(0,0)})),new i["default"]({router:D,store:$,render:function(e){return e(U)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},"9c0c":function(e,t,n){},"9c29":function(e,t,n){e.exports=n.p+"img/carousel3.728b1e2c.jpg"},b45e:function(e,t,n){e.exports=n.p+"img/fiximg.8c6fb7d7.png"},cf05:function(e,t,n){e.exports=n.p+"img/logo.7ea306c3.png"}});
//# sourceMappingURL=app.2b8f719c.js.map