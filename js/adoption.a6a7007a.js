(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["adoption"],{"04a8":function(t,e,o){"use strict";o("7198")},5178:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-container",{attrs:{id:"donate"}},[o("h3",{staticClass:"pageTitle"},[t._v("領養 Adoption")]),o("b-icon",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-3",modifiers:{"collapse-3":!0}}],attrs:{icon:"caret-down",variant:"accent"}}),o("b-collapse",{attrs:{id:"collapse-3",visible:""}},[o("div",{staticClass:"pageText"},[t._v("瑪莉愛狗協會是非營利的救援組織，已經救援了數千隻狗找到幸福的家!")])]),o("b-row",{staticClass:"mt-5"},t._l(t.dogs,(function(t){return o("b-col",{key:t._id,staticClass:"my-3",attrs:{cols:"12",lg:"6"}},[o("DogCard",{attrs:{dog:t}})],1)})),1)],1)},r=[],n=o("1da1"),a=(o("96cf"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"dogscard"}},[o("b-card",{staticClass:"dogCard",attrs:{"img-top":"","img-src":t.dog.image}},[o("b-card-body",{on:{click:t.more}},[o("b-card-title",[t._v(t._s(t.dog.name))]),o("b-card-text",{staticStyle:{"white-space":"pre-line"}},[t._v(t._s(t.dog.description))])],1),o("b-card-footer",[o("b-btn",{staticClass:"mx-2",on:{click:t.more}},[t._v("閱讀更多")]),o("b-btn",{staticClass:"btn-accent mx-2",on:{click:t.apply}},[t._v("申請領養")])],1)],1),o("b-modal",{staticClass:"modalMore",attrs:{id:"modal-more"+t.dog._id,"hide-footer":"",scrollable:"",title:t.dog.name,"text-center":"","no-stacking":""}},[o("img",{staticStyle:{width:"100%"},attrs:{src:t.dog.image}}),o("p",{staticClass:"description"},[t._v(t._s(t.dog.description))]),o("b-btn",{staticClass:"btn-accent text-white mx-auto d-block",on:{click:t.apply}},[t._v("申請領養")])],1),o("b-modal",{attrs:{title:"申請領養",id:"modal-apply"+t.dog._id,"ok-disabled":t.modalSubmitting,"cancel-disabled":t.modalSubmitting,"ok-variant":"accent","cancel-variant":"light","ok-title":"送出","cancel-title":"取消"},on:{ok:t.submitApply,hidden:t.resetForm}},[o("div",{staticClass:"my-3"},[o("img",{staticClass:"mx-auto img-fluid d-block mb-3",staticStyle:{width:"230px"},attrs:{src:t.dog.image}}),o("h6",{staticClass:"text-center"},[t._v(t._s(t.dog.name))])]),o("b-form-group",{attrs:{label:"申請人姓名","label-for":"input-name",description:"必填欄位","invalid-feedback":"申請人姓名必填",state:t.state.name}},[o("b-form-input",{attrs:{id:"input-name",type:"text",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),o("b-form-group",{attrs:{label:"連絡電話","label-for":"input-phone",description:"必填欄位",state:t.state.phone}},[o("b-form-input",{attrs:{id:"input-phone",type:"text",required:""},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),o("b-form-group",{attrs:{label:"詳細說明","label-for":"input-description",description:"必填欄位","invalid-feedback":"詳細說明必填",state:t.state.description}},[o("b-form-textarea",{attrs:{id:"input-description",rows:"6",required:"",placeholder:"請介紹一下自己並詳細說明欲領養的動機"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1)],1)}),s=[],c=(o("b0c0"),o("a4d3"),o("e01a"),o("f90c")),l=o.n(c),d={data:function(){return{form:{name:"",phone:"",description:"",dog:"",status:"已送出"},modalSubmitting:!1}},props:{dog:{type:Object,required:!0}},computed:{state:function(){return{name:0!==this.form.name.length||null,phone:0===this.form.phone?null:l.a.isNumeric(this.form.phone),description:0!==this.form.description.length||null}}},methods:{submitApply:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(t.preventDefault(),e.state.name&&e.state.phone&&e.state.description){o.next=4;break}return e.$swal({icon:"error",title:"錯誤",text:"缺少必填欄位"}),o.abrupt("return");case 4:return e.modalSubmitting=!0,o.prev=5,o.next=8,e.api.post("/adoptions",e.form,{headers:{authorization:"Bearer "+e.user.token}});case 8:e.$swal({icon:"success",title:"成功",text:"申請已送出"}),e.form={name:"",phone:"",description:"",dog:""},e.$bvModal.hide("modal-apply"+e.dog._id),e.modalSubmitting=!1,o.next=17;break;case 14:o.prev=14,o.t0=o["catch"](5),e.$swal({icon:"error",title:"失敗",text:"申請送出失敗"});case 17:case"end":return o.stop()}}),o,null,[[5,14]])})))()},apply:function(){this.$bvModal.show("modal-apply"+this.dog._id),this.form.dog=this.dog._id},more:function(){this.$bvModal.show("modal-more"+this.dog._id),this.form.dog=this.dog._id},resetForm:function(t){this.modalSubmitting?t.preventDefault():this.form={name:"",phone:"",description:"",dog:""}}}},p=d,u=(o("04a8"),o("2877")),m=Object(u["a"])(p,a,s,!1,null,null,null),b=m.exports,f={components:{DogCard:b},data:function(){return{dogs:[]}},methods:{showMsgOk:function(){var t=this.$createElement,e=t("div",{domProps:{innerHTML:"Title from <i>HTML<i> string"}}),o=t("div",{class:["foobar"]},[t("p",{class:["text-center"]},[" Flashy ",t("strong","msgBoxOk")," message "]),t("b-img",{props:{src:"https://picsum.photos/id/20/250/250",thumbnail:!0,center:!0,fluid:!0,rounded:"circle"}})]);this.$bvModal.msgBoxOk([o],{title:[e],buttonSize:"sm",centered:!0,size:"sm"})}},created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.api.get("/dogs");case 3:o=e.sent,i=o.data,t.dogs=i.result,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.$swal({icon:"error",title:"錯誤",text:"取得失敗"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},g=f,h=(o("699c"),Object(u["a"])(g,i,r,!1,null,null,null));e["default"]=h.exports},"699c":function(t,e,o){"use strict";o("e578")},7198:function(t,e,o){},b0c0:function(t,e,o){var i=o("83ab"),r=o("5e77").EXISTS,n=o("e330"),a=o("9bf2").f,s=Function.prototype,c=n(s.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=n(l.exec),p="name";i&&!r&&a(s,p,{configurable:!0,get:function(){try{return d(l,c(this))[1]}catch(t){return""}}})},e01a:function(t,e,o){"use strict";var i=o("23e7"),r=o("83ab"),n=o("da84"),a=o("e330"),s=o("1a2d"),c=o("1626"),l=o("3a9b"),d=o("577e"),p=o("9bf2").f,u=o("e893"),m=n.Symbol,b=m&&m.prototype;if(r&&c(m)&&(!("description"in b)||void 0!==m().description)){var f={},g=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:d(arguments[0]),e=l(b,this)?new m(t):void 0===t?m():m(t);return""===t&&(f[e]=!0),e};u(g,m),g.prototype=b,b.constructor=g;var h="Symbol(test)"==String(m("test")),v=a(b.toString),x=a(b.valueOf),k=/^Symbol\((.*)\)[^)]+$/,w=a("".replace),y=a("".slice);p(b,"description",{configurable:!0,get:function(){var t=x(this),e=v(t);if(s(f,t))return"";var o=h?y(e,7,-1):w(e,k,"$1");return""===o?void 0:o}}),i({global:!0,forced:!0},{Symbol:g})}},e578:function(t,e,o){}}]);
//# sourceMappingURL=adoption.a6a7007a.js.map